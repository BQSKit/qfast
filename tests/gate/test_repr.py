import numpy    as np
import unittest as ut

from qfast.gate import Gate


class TestGateRepr ( ut.TestCase ):

    TOFFOLI = np.asarray(
            [[1.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j],
            [0.+0.j, 1.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j],
            [0.+0.j, 0.+0.j, 1.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j],
            [0.+0.j, 0.+0.j, 0.+0.j, 1.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j],
            [0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 1.+0.j, 0.+0.j, 0.+0.j, 0.+0.j],
            [0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 1.+0.j, 0.+0.j, 0.+0.j],
            [0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 1.+0.j],
            [0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 0.+0.j, 1.+0.j, 0.+0.j]] )

    def test_gate_repr_1 ( self ):
        gate = Gate( self.TOFFOLI, (0, 1, 2) )
        self.assertEqual( repr( gate ),
                          str( (0, 1, 2) ) + ": [[(1+0j) ... 0j]]" )

    def test_gate_repr_2 ( self ):
        gate = Gate( self.TOFFOLI, (4, 5, 7) )
        self.assertEqual( repr( gate ),
                          str( (4, 5, 7) ) + ": [[(1+0j) ... 0j]]" )


if __name__ == '__main__':
    ut.main()

